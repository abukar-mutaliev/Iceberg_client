// –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
// –ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

console.log('üîç –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞...');

// –ò–º–∏—Ç–∏—Ä—É–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ useProductManagement
const checkSupplierProducts = async () => {
  try {
    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const currentUser = window.__REDUX_STORE__?.getState()?.auth?.user;
    console.log('üë§ –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', currentUser);

    if (!currentUser) {
      console.log('‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
      return;
    }

    if (currentUser.role !== 'SUPPLIER') {
      console.log('‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º');
      return;
    }

    // –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å
    const profile = window.__REDUX_STORE__?.getState()?.profile?.data;
    console.log('üìã –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', profile);

    // –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã
    const products = window.__REDUX_STORE__?.getState()?.products?.items || [];
    console.log('üì¶ –í—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã –≤ —Å—Ç–æ—Ä–µ:', products.length);

    // –§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
    const supplierProducts = products.filter(product => {
      const isOwner = product.supplierId === currentUser.id ||
                     product.supplierId === currentUser.supplier?.id ||
                     product.supplierId === profile?.supplier?.id;

      console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∞:', {
        productId: product.id,
        productName: product.name,
        productSupplierId: product.supplierId,
        currentUserId: currentUser.id,
        currentUserSupplierId: currentUser.supplier?.id,
        profileSupplierId: profile?.supplier?.id,
        isOwner: isOwner
      });

      return isOwner;
    });

    console.log('‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞:', supplierProducts.length);
    supplierProducts.forEach(product => {
      console.log('  -', product.name, '(ID:', product.id, ', SupplierId:', product.supplierId, ')');
    });

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ:', error);
  }
};

// –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
checkSupplierProducts();
