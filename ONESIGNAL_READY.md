# üéâ OneSignal –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –£–¥–∞–ª–µ–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚ùå –£–¥–∞–ª–µ–Ω—ã `@react-native-firebase/app` –∏ `@react-native-firebase/messaging`
- ‚ùå –£–¥–∞–ª–µ–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —Å–±–æ—Ä–∫–∏ –∏ —Ç–æ–∫–µ–Ω–æ–≤
- ‚ùå –£–±—Ä–∞–Ω FCMTokenService.js
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω PushNotificationService –¥–æ –º–∏–Ω–∏–º—É–º–∞

### 2. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω OneSignal
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `onesignal-expo-plugin`  
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `react-native-onesignal`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω plugin –≤ `app.config.js`

### 3. –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ `OneSignalService.js` - –ø—Ä–æ—Å—Ç–æ–π –∏ —á–∏—Å—Ç—ã–π —Å–µ—Ä–≤–∏—Å
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `PushNotificationService.js` - —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ OneSignal
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ –≤—Å–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

### 1. –ü–æ–ª—É—á–∏—Ç–µ OneSignal App ID
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [onesignal.com](https://onesignal.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Android –ø–ª–∞—Ç—Ñ–æ—Ä–º—É —Å –≤–∞—à–∏–º `google-services.json`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ App ID –∏–∑ Settings ‚Üí Keys & IDs

### 2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
–í —Ñ–∞–π–ª–µ `src/shared/services/PushNotificationService.js` –∑–∞–º–µ–Ω–∏—Ç–µ:
```javascript
this.oneSignalAppId = 'YOUR_ONESIGNAL_APP_ID';
```
–Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π App ID.

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ
```bash
# Development
npm start

# Preview APK (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è push)  
npx eas build --profile preview --platform android --clear-cache
```

## üî• –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è:

### ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞
- –£–±—Ä–∞–Ω–∞ –≤—Å—è —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —Å–±–æ—Ä–æ–∫
- –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å FCM/Expo —Ç–æ–∫–µ–Ω–∞–º–∏
- OneSignal —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–µ–∑–¥–µ

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å  
- OneSignal –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–∫–µ–Ω–∞–º–∏
- –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö —Å–±–æ—Ä–æ–∫ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ú–µ–Ω—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ—à–∏–±–æ–∫

### ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –í–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –¢–æ—Ç –∂–µ API –¥–ª—è `usePushTokenAutoRegistration`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üì± –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```
üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PushNotificationService —Å OneSignal
üîî OneSignal —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è: true
‚úÖ OneSignal –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ
‚úÖ PushNotificationService –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Å OneSignal
üë§ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è PushNotificationService –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 123
üë§ OneSignal External User ID —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: 123  
üé´ OneSignal Subscription ID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
‚úÖ PushNotificationService –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 123
```

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ OneSignal App ID** –≤ PushNotificationService.js
2. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ google-services.json –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π** (—Ç–æ—Ç –∂–µ —á—Ç–æ –±—ã–ª –¥–ª—è Firebase)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
4. **–°–æ–±–µ—Ä–∏—Ç–µ APK** –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Expo Go –æ–≥—Ä–∞–Ω–∏—á–µ–Ω)

## üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞

–° OneSignal –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ REST API:

```javascript
// Node.js –ø—Ä–∏–º–µ—Ä
const response = await fetch('https://onesignal.com/api/v1/notifications', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Basic YOUR_REST_API_KEY' // –∏–∑ OneSignal Dashboard
  },
  body: JSON.stringify({
    app_id: 'YOUR_ONESIGNAL_APP_ID',
    include_external_user_ids: [userId.toString()], 
    headings: { en: '–ù–æ–≤—ã–π –∑–∞–∫–∞–∑' },
    contents: { en: '–£ –≤–∞—Å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ #12345' },
    data: { 
      type: 'ORDER_STATUS',
      orderId: 12345,
      url: 'iceberg://orders/12345'
    }
  })
});
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π  
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Ç–∏–ø–∞—Ö —Å–±–æ—Ä–æ–∫
- ‚úÖ –õ–µ–≥–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ë–æ–≥–∞—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ OneSignal Dashboard
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 10,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ**