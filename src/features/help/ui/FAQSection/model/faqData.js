/**
 * FAQ данные для Центра помощи
 * Все вопросы объединены в одну категорию
 * Основано на реальном функционале приложения Iceberg
 */

// Все вопросы из разных категорий
const allQuestions = [
    // Регистрация и авторизация
    { id: 'reg-1', question: 'Как зарегистрироваться в приложении?', answer: 'Для регистрации нажмите кнопку "Регистрация" на экране авторизации. Вы можете зарегистрироваться двумя способами: 1) По email - укажите email, пароль и получите код подтверждения на почту. 2) По телефону - укажите номер телефона, имя, адрес и получите номер телефона, последние 4 цифры номера телефона это код подтверждения. После ввода кода регистрация будет завершена.', roles: null },
    { id: 'reg-2', question: 'Как войти в приложение?', answer: 'Вы можете войти тремя способами: 1) По email и паролю - введите email и пароль на экране входа. 2) По телефону - выберите "Вход по телефону", введите номер телефона и получите номер и последние 4 цифры номера телефона это код. 3) Если вы уже авторизованы, приложение автоматически запомнит вас и вы войдете автоматически.', roles: null },
    { id: 'reg-3', question: 'Как восстановить пароль?', answer: 'На экране входа нажмите "Забыли пароль?". Введите email или номер телефона, который использовался при регистрации. На указанный адрес будет отправлен код для восстановления пароля. Введите код и установите новый пароль.', roles: null },
    { id: 'reg-4', question: 'Что делать, если не приходит код подтверждения?', answer: 'Если код подтверждения не приходит: 1) Проверьте правильность введенного номера телефона или email. 2) Убедитесь, что у вас есть стабильное интернет-соединение. 3) Проверьте папку "Спам" для email. 4) Подождите 1-2 минуты - иногда SMS приходят с задержкой. 5) Попробуйте запросить код повторно. Если проблема сохраняется, обратитесь в службу поддержки.', roles: null },
    { id: 'reg-5', question: 'Что такое двухфакторная аутентификация?', answer: 'Двухфакторная аутентификация (2FA) - это дополнительная защита вашего аккаунта. После ввода пароля вам нужно будет ввести код из приложения-аутентификатора (например, Google Authenticator). Это защищает ваш аккаунт даже если кто-то узнает ваш пароль. Вы можете включить или отключить 2FA в настройках профиля.', roles: null },
    
    // Заказы и доставка
    { id: 'ord-1', question: 'Как оформить заказ?', answer: 'Для оформления заказа: 1) Добавьте товары в корзину (товары продаются коробками). 2) Перейдите в корзину через иконку в нижней панели. 3) Нажмите "Оформить заказ". 4) Выберите адрес доставки (или самовывоз). 5) Выберите способ оплаты (онлайн или наличными). 6) Подтвердите заказ. После подтверждения вы получите номер заказа и уведомление.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'ord-2', question: 'Какие статусы заказа существуют?', answer: 'Заказ проходит следующие статусы: "Ожидает оплаты" (PENDING_PAYMENT) - если выбрана онлайн оплата, "Оформлен" (PENDING) - заказ создан, "Подтвержден" (CONFIRMED) - заказ принят в работу, "Ожидает товар" (WAITING_STOCK) - товар временно отсутствует, "Сборка" (PICKING) - товар собирается на складе, "Упаковка" (PACKING) - товар упаковывается, "В доставке" (IN_DELIVERY) - заказ в пути, "Доставлен" (DELIVERED) - заказ получен. Вы будете получать push-уведомления при изменении статуса.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'ord-3', question: 'Как отследить заказ?', answer: 'Для отслеживания заказа перейдите в раздел "Профиль" → "Заказы" (для клиентов) или "Профиль" → "Заказы" (для сотрудников). Выберите нужный заказ, чтобы увидеть его текущий статус, состав, адрес доставки и другую информацию. Вы также будете получать push-уведомления об изменении статуса заказа.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'ord-4', question: 'Как отменить заказ?', answer: 'Заказ можно отменить до момента его отправки в доставку. Перейдите в "Мои заказы", выберите заказ со статусом "Оформлен", "Подтвержден" или "Ожидает товар" и нажмите "Отменить заказ". Если заказ уже в статусе "В доставке", отмена возможна только через службу поддержки или менеджера района. При отмене оплаченного заказа средства будут возвращены в течение 3-5 рабочих дней.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'ord-5', question: 'Что делать, если товар отсутствует на складе?', answer: 'Если товар отсутствует на складе, заказ переходит в статус "Ожидает товар" (WAITING_STOCK). Вам будет предложено выбрать альтернативный товар или подождать поступления товара. Вы получите уведомление, когда товар появится на складе. Если вы выберете альтернативу, заказ будет обработан с заменой товара.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'ord-6', question: 'Как выбрать адрес доставки?', answer: 'При оформлении заказа вы можете: 1) Выбрать сохраненный адрес из списка. 2) Добавить новый адрес доставки. 3) Выбрать самовывоз (PICKUP) - тогда товар нужно будет забрать со склада. Адреса доставки привязаны к районам (Districts). Убедитесь, что выбранный район обслуживается.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'ord-7', question: 'Как изменить адрес доставки заказа?', answer: 'Изменить адрес доставки можно только до момента отправки заказа в доставку. Перейдите в "Мои заказы", выберите заказ со статусом "Оформлен" или "Подтвержден" и нажмите "Изменить адрес". Выберите новый адрес из сохраненных или добавьте новый. Если заказ уже в статусе "В доставке", изменение адреса возможно только через службу поддержки.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    
    // Корзина и товары
    { id: 'cart-1', question: 'Как добавить товар в корзину?', answer: 'Для добавления товара в корзину откройте карточку товара и нажмите кнопку "В корзину" или значок корзины. Укажите количество товара (товары продаются коробками). После добавления товар появится в корзине, доступ к которой можно получить через иконку корзины в нижней панели навигации.', roles: ['CLIENT'] },
    { id: 'cart-2', question: 'Почему товары продаются коробками?', answer: 'Товары в нашем приложении продаются коробками для удобства доставки и учета. В карточке товара указано, сколько штук содержится в одной коробке.', roles: ['CLIENT'] },
    { id: 'cart-3', question: 'Как изменить количество товара в корзине?', answer: 'В корзине найдите нужный товар. Рядом с товаром есть кнопки "+" и "-" для увеличения или уменьшения количества коробок. Вы также можете ввести количество вручную, нажав на поле с числом. Изменения применяются автоматически, и общая сумма заказа пересчитывается. Помните, что товары продаются целыми коробками.', roles: ['CLIENT'] },
    { id: 'cart-5', question: 'Почему товар недоступен?', answer: 'Товар может быть недоступен по следующим причинам: 1) Товар закончился на складе в вашем районе. 2) Товар временно снят с продажи. 3) Товар недоступен в вашем районе доставки. 4) Товар зарезервирован для других заказов. В таких случаях товар будет отмечен как "Нет в наличии". Вы можете добавить товар в избранное, чтобы получить уведомление, когда он снова появится.', roles: ['CLIENT'] },
    { id: 'cart-6', question: 'Как очистить корзину?', answer: 'Для очистки корзины перейдите в раздел "Корзина". Вы можете удалить товары по одному, нажав на иконку удаления рядом с каждым товаром, или очистить всю корзину сразу. После очистки корзина будет пуста, и вы сможете начать формировать новый заказ.', roles: ['CLIENT'] },
    { id: 'cart-7', question: 'Как добавить товар в избранное?', answer: 'Для добавления товара в избранное откройте карточку товара и нажмите на иконку сердца. Товар будет добавлен в избранное. Вы можете просмотреть все избранные товары в разделе "Профиль" → "Избранное". Это удобно для быстрого доступа к часто заказываемым товарам.', roles: ['CLIENT'] },
    
    // Оплата
    { id: 'pay-1', question: 'Какие способы оплаты доступны?', answer: 'В приложении доступны два способа оплаты: 1) Онлайн оплата (ONLINE) - оплата банковской картой через платежную систему. При онлайн оплате используется предавторизация - средства резервируются, но списываются только после подтверждения заказа. 2) Наличными при получении (CASH) - оплата наличными курьеру или при самовывозе.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'pay-2', question: 'Что такое предавторизация платежа?', answer: 'Предавторизация - это резервирование средств на вашей карте без их списания. Средства резервируются при создании заказа и списываются только после подтверждения заказа складом. Если заказ отменен до подтверждения, резерв автоматически снимается. Это гарантирует, что у вас есть средства для оплаты заказа.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'pay-3', question: 'Когда списываются средства при онлайн оплате?', answer: 'При онлайн оплате средства резервируются (предавторизация) сразу после создания заказа. Фактическое списание происходит после подтверждения заказа складом (статус меняется на CONFIRMED). Если заказ отменен до подтверждения, резерв снимается, и средства не списываются. Если заказ уже подтвержден, средства списываются сразу.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'pay-4', question: 'Как вернуть деньги за отмененный заказ?', answer: 'Если вы отменили заказ до его подтверждения, резерв средств автоматически снимается (при предавторизации). Если заказ был оплачен и подтвержден, средства будут возвращены на ту же карту, с которой была произведена оплата, в течение 3-5 рабочих дней. Для ускорения возврата обратитесь в службу поддержки.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    { id: 'pay-5', question: 'Можно ли оплатить заказ частично?', answer: 'Нет, заказ должен быть оплачен полностью. Частичная оплата не поддерживается. Вы можете выбрать способ оплаты (онлайн или наличными), но сумма заказа должна быть оплачена полностью.', roles: ['CLIENT', 'EMPLOYEE', 'ADMIN'] },
    
    // Доставка и самовывоз
    { id: 'del-1', question: 'Какие типы доставки доступны?', answer: 'В приложении доступны два типа доставки: 1) Доставка курьером (DELIVERY) - товар доставляется по указанному адресу. Стоимость доставки рассчитывается автоматически на основе расстояния от склада до адреса. 2) Самовывоз (PICKUP) - вы забираете товар самостоятельно со склада. При самовывозе доставка бесплатна.', roles: ['CLIENT', 'DRIVER', 'EMPLOYEE', 'ADMIN'] },
    { id: 'del-2', question: 'Как рассчитывается стоимость доставки?', answer: 'Стоимость доставки рассчитывается автоматически на основе расстояния от склада до вашего адреса. Система выбирает ближайший склад к вашему адресу и рассчитывает стоимость доставки. При заказе на определенную сумму доставка может быть бесплатной. Точная стоимость доставки отображается при оформлении заказа перед подтверждением.', roles: ['CLIENT', 'DRIVER', 'EMPLOYEE', 'ADMIN'] },
    { id: 'del-3', question: 'Что такое районы доставки (Districts)?', answer: 'Районы доставки - это зоны обслуживания, на которые разделена территория. Каждый район имеет свой склад, максимальный радиус доставки и время доставки. При регистрации вы выбираете район, в котором будете получать заказы. Адреса доставки привязаны к районам. Вы можете изменить район в настройках профиля.', roles: ['CLIENT', 'DRIVER', 'EMPLOYEE', 'ADMIN'] },
    { id: 'del-4', question: 'Как работает самовывоз?', answer: 'При выборе самовывоза (PICKUP) вы забираете товар самостоятельно со склада. После подтверждения заказа вы получите адрес склада и время, когда товар будет готов к выдаче. При самовывозе доставка бесплатна. Вы можете выбрать самовывоз при оформлении заказа, выбрав соответствующий тип доставки.', roles: ['CLIENT', 'DRIVER', 'EMPLOYEE', 'ADMIN'] },
    { id: 'del-5', question: 'Что такое остановки фургонов (Stops)?', answer: 'Остановки фургонов - это мобильные точки продаж, которые создают водители в определенных районах. Водители загружают товары на фургон со склада и создают остановку с указанием адреса и времени работы. Клиенты могут видеть доступные остановки на карте и покупать товары прямо с фургона. Это удобно для быстрой покупки без оформления заказа.', roles: ['CLIENT', 'DRIVER', 'EMPLOYEE', 'ADMIN'] },
    { id: 'del-6', question: 'Как найти остановку фургона рядом?', answer: 'На главном экране приложения есть виджет "Найти фургон". Нажмите на него, чтобы увидеть список активных остановок фургонов в вашем районе. Вы можете посмотреть адрес остановки, время работы, список доступных товаров и контакты водителя. Также можно открыть карту для просмотра расположения остановок.', roles: ['CLIENT', 'DRIVER', 'EMPLOYEE', 'ADMIN'] },
    
    // Чат и общение
    { id: 'chat-1', question: 'Как связаться с менеджером района?', answer: 'Для связи с менеджером вашего района перейдите в "Профиль" → "Центр помощи" → "Связь с менеджером района". Нажмите кнопку "Написать", и откроется чат с менеджером. Если чат с менеджером уже существует, вы перейдете в существующий чат. Менеджер поможет вам с вопросами по заказам, доставке и другим вопросам.', roles: null },
    { id: 'chat-2', question: 'Какие типы чатов есть в приложении?', answer: 'В приложении есть несколько типов чатов: 1) Личные чаты (DIRECT) - общение один на один с другим пользователем. 2) Групповые чаты (GROUP) - общение в группе с несколькими участниками. 3) Чаты по товарам (PRODUCT) - обсуждение конкретного товара с поставщиком. 4) Общие каналы (BROADCAST) - автоматические каналы для всех клиентов, сотрудников или водителей.', roles: null },
    { id: 'chat-3', question: 'Как отправить фото или голосовое сообщение?', answer: 'В чате вы можете отправить: 1) Текстовое сообщение - просто введите текст и нажмите отправить. 2) Фото - нажмите на иконку камеры или галереи, выберите фото и отправьте. 3) Голосовое сообщение - нажмите и удерживайте кнопку микрофона, записывайте сообщение, отпустите для отправки. Все типы сообщений поддерживаются в чатах.', roles: null },
    { id: 'chat-4', question: 'Как создать групповой чат?', answer: 'Для создания группового чата перейдите в раздел "Чаты" → "Создать группу". Укажите название группы, добавьте участников из списка контактов и нажмите "Создать". Вы автоматически станете администратором группы и сможете добавлять/удалять участников, изменять настройки группы.', roles: null },
    { id: 'chat-5', question: 'Что такое опросы в чате?', answer: 'Опросы - это возможность создать голосование в групповом чате. Вы можете создать опрос с несколькими вариантами ответов, и участники группы смогут проголосовать. Результаты опроса отображаются в реальном времени. Это удобно для принятия решений в группе или сбора мнений.', roles: null },
    
    // Профиль и настройки
    { id: 'prof-1', question: 'Как изменить данные профиля?', answer: 'Для изменения данных профиля перейдите в "Профиль" → "Мой профиль" → "Редактировать". Здесь вы можете изменить: имя, телефон, адрес, район доставки, пол и другие персональные данные. После внесения изменений нажмите "Сохранить". Некоторые изменения (например, телефон) могут потребовать подтверждения через SMS.', roles: null },
    { id: 'prof-2', question: 'Как изменить пароль?', answer: 'Для изменения пароля перейдите в "Профиль" → "Настройки" → "Изменить пароль". Введите текущий пароль, затем новый пароль и подтвердите его. Новый пароль должен содержать минимум 8 символов. После сохранения новый пароль вступит в силу сразу. Если вы забыли текущий пароль, используйте функцию "Забыли пароль?" на экране входа.', roles: null },
    { id: 'prof-3', question: 'Как настроить уведомления?', answer: 'Для настройки уведомлений перейдите в "Профиль" → "Настройки" → "Уведомления". Здесь вы можете включить или отключить различные типы уведомлений: сообщения в чате, обновления заказов, уведомления об остановках фургонов, акции и промо, системные уведомления. Настройки применяются сразу после изменения.', roles: null },
    { id: 'prof-4', question: 'Как стать поставщиком, сотрудником или водителем?', answer: 'Для того чтобы стать поставщиком, сотрудником или водителем, перейдите в "Профиль" → "Стать частью команды". Заполните заявку, указав желаемую роль (поставщик, сотрудник, водитель), выберите районы работы и укажите дополнительную информацию. После рассмотрения заявки с вами свяжется менеджер для дальнейших шагов. Изменение роли возможно только через администратора.', roles: null },
    { id: 'prof-5', question: 'Как изменить район доставки?', answer: 'Для изменения района доставки перейдите в "Профиль" → "Мой профиль" → "Редактировать". В разделе адреса выберите "Изменить район" и выберите нужный район из списка доступных. После сохранения изменения вступят в силу, и вы сможете получать заказы в новом районе. Убедитесь, что выбранный район обслуживается.', roles: null },
    { id: 'prof-6', question: 'Как удалить аккаунт?', answer: 'Для удаления аккаунта обратитесь в службу поддержки через "Профиль" → "Центр помощи" → "Обращение к разработчику". Укажите причину удаления аккаунта и подтвердите запрос. После обработки запроса ваш аккаунт и все связанные данные (заказы, чаты, избранное) будут удалены. Обратите внимание: удаление аккаунта необратимо.', roles: null },
    
    // Для поставщиков
    { id: 'sup-1', question: 'Как добавить товар в каталог?', answer: 'Для добавления товара перейдите в "Профиль" → "Управление товарами" → "Добавить товар". Заполните информацию о товаре: название, описание, цена, количество в коробке (itemsPerBox), оптовая цена и минимальное оптовое количество, категория, фото. После сохранения товар появится в каталоге и будет доступен для заказа.', roles: ['SUPPLIER'] },
    { id: 'sup-2', question: 'Как управлять остатками товаров?', answer: 'Остатки товаров на складах управляются автоматически при создании заказов и поставках. Вы можете просмотреть остатки своих товаров в разделе "Профиль" → "Управление товарами". Система автоматически отслеживает продажи и обновляет остатки. Если товар долго не продается, вы получите уведомление о возможности возврата.', roles: ['SUPPLIER'] },
    { id: 'sup-3', question: 'Что такое залежавшиеся товары?', answer: 'Залежавшиеся товары - это товары, которые не продавались более 21 дня. Система автоматически отслеживает такие товары и отправляет уведомления поставщикам. Если товар не продается более 30 дней, администратор может создать запрос на возврат товара. Вы можете просмотреть залежавшиеся товары в разделе "Профиль" → "Залежавшиеся товары".', roles: ['SUPPLIER'] },
    { id: 'sup-4', question: 'Как оформить возврат товара?', answer: 'Если товар долго не продается, администратор может создать запрос на возврат. Вы получите уведомление о запросе на возврат. После одобрения запроса администратором вы можете забрать товар со склада. Перейдите в "Профиль" → "Возвраты товаров" для просмотра запросов на возврат и управления ими.', roles: ['SUPPLIER'] },
    { id: 'sup-5', question: 'Как просмотреть статистику продаж?', answer: 'Статистику продаж ваших товаров можно просмотреть в разделе "Профиль" → "Управление товарами". Вы можете увидеть количество проданных товаров, остатки на складах, популярность товаров. Для более детальной статистики обратитесь к администратору или менеджеру.', roles: ['SUPPLIER'] },
    
    // Для сотрудников
    { id: 'emp-1', question: 'Как обрабатывать заказы?', answer: 'Для обработки заказов перейдите в "Профиль" → "Заказы". Вы увидите список заказов, назначенных вам или доступных для обработки. Выберите заказ и измените его статус в соответствии с вашей ролью: PICKER (сборка), PACKER (упаковка), QUALITY_CHECKER (проверка качества), COURIER (доставка). После завершения этапа заказ переходит к следующему этапу.', roles: ['EMPLOYEE'] },
    { id: 'emp-2', question: 'Как работает система вознаграждений?', answer: 'Вознаграждения начисляются автоматически за обработку заказов. За каждую обработанную коробку товара вы получаете вознаграждение (обычно 10₽ за коробку). Вознаграждения начисляются при завершении заказа (статус DELIVERED). Вы можете просмотреть свои вознаграждения в "Профиль" → "Вознаграждения". Вознаграждения имеют статусы: В ожидании, Одобрено, Выплачено.', roles: ['EMPLOYEE'] },
    { id: 'emp-3', question: 'Как просмотреть свои вознаграждения?', answer: 'Для просмотра вознаграждений перейдите в "Профиль" → "Вознаграждения". Вы увидите список всех ваших вознаграждений с разбивкой по месяцам. Можно выбрать месяц для просмотра детальной информации. Вознаграждения отображаются с указанием суммы, статуса и заказа, за который они начислены.', roles: ['EMPLOYEE'] },
    { id: 'emp-4', question: 'Что такое роли обработки (Processing Roles)?', answer: 'Роли обработки определяют ваши обязанности на складе: PICKER (сборщик) - собирает товары со склада, PACKER (упаковщик) - упаковывает товары, QUALITY_CHECKER (контролер качества) - проверяет качество товаров, COURIER (курьер) - доставляет заказы, SUPERVISOR (супервайзер) - контролирует процесс. Ваша роль определяет, какие заказы вы можете обрабатывать.', roles: ['EMPLOYEE'] },
    { id: 'emp-5', question: 'Как просмотреть остатки товаров на складе?', answer: 'Для просмотра остатков товаров перейдите в "Профиль" → "Остатки товаров". Вы увидите список товаров с низкими остатками и уведомления о необходимости пополнения. Обратите внимание: доступ к остаткам может быть ограничен в зависимости от вашей роли (PICKER и COURIER обычно не имеют доступа).', roles: ['EMPLOYEE'] },
    { id: 'emp-6', question: 'Как назначить заказ себе?', answer: 'Заказы могут быть назначены вам автоматически системой или вручную администратором. Вы также можете взять заказ в обработку самостоятельно, если он доступен для вашей роли. Выберите заказ из списка и начните его обработку, изменив статус на соответствующий этапу обработки.', roles: ['EMPLOYEE'] },
    
    // Для водителей
    { id: 'drv-1', question: 'Как создать остановку фургона?', answer: 'Для создания остановки фургона перейдите в "Профиль" → "Остановки" → "Добавить остановку". Укажите адрес остановки, район, время начала и окончания работы, модель и номер фургона. Затем добавьте товары, которые есть в фургоне (товары будут списаны со склада). После создания остановки клиенты смогут увидеть ее на карте и купить товары.', roles: ['DRIVER'] },
    { id: 'drv-2', question: 'Как добавить товары в фургон?', answer: 'При создании или редактировании остановки вы можете добавить товары в фургон. Нажмите "Добавить товары" и выберите товары из каталога. Укажите количество коробок каждого товара. Товары будут автоматически списаны со склада, с которого вы выехали. При удалении остановки товары вернутся на склад.', roles: ['DRIVER'] },
    { id: 'drv-3', question: 'Как завершить остановку?', answer: 'Для завершения остановки перейдите в "Профиль" → "Остановки", выберите активную остановку и нажмите "Завершить остановку". Укажите время окончания работы. После завершения остановка перестанет отображаться на карте для клиентов. Непроданные товары можно вернуть на склад или оставить для следующей остановки.', roles: ['DRIVER'] },
    { id: 'drv-4', question: 'Как просмотреть продажи с фургона?', answer: 'Продажи с фургона автоматически учитываются в системе. Вы можете просмотреть статистику продаж в разделе "Профиль" → "Остановки" → выберите остановку для просмотра деталей. Продажи также учитываются в общей статистике склада, с которого вы выехали.', roles: ['DRIVER'] },
    { id: 'drv-5', question: 'Что делать, если нужно изменить адрес остановки?', answer: 'Вы можете отредактировать остановку, перейдя в "Профиль" → "Остановки" → выберите остановку → "Редактировать". Измените адрес, время работы или другие параметры. После сохранения изменения вступят в силу, и клиенты увидят обновленную информацию об остановке.', roles: ['DRIVER'] },
    
    // Поиск и фильтры
    { id: 'srch-1', question: 'Как найти товар в приложении?', answer: 'Для поиска товара перейдите на вкладку "Поиск" в нижней панели. Введите название товара или ключевые слова в поисковую строку. Вы увидите результаты поиска в реальном времени. Также можно использовать голосовой поиск (если доступен) или сканировать QR-код товара.', roles: ['CLIENT', 'ADMIN'] },
    { id: 'srch-2', question: 'Как использовать фильтры при поиске?', answer: 'После ввода запроса в поиске нажмите "Фильтры" для уточнения результатов. Вы можете фильтровать по: категории, поставщику, цене (диапазон), количеству в упаковке, рейтингу, бренду, составу, типу упаковки. Примененные фильтры отображаются над результатами поиска. Вы можете сбросить фильтры в любой момент.', roles: ['CLIENT', 'ADMIN'] },
    { id: 'srch-3', question: 'Как просмотреть историю поиска?', answer: 'История поиска сохраняется автоматически. Вы можете просмотреть последние поисковые запросы в разделе "Поиск" - они отображаются под поисковой строкой. Нажмите на запрос из истории, чтобы повторить поиск. Вы можете очистить историю поиска в настройках.', roles: ['CLIENT', 'ADMIN'] },
    { id: 'srch-4', question: 'Как найти товары по категориям?', answer: 'Для просмотра товаров по категориям перейдите на вкладку "Каталог" или используйте горизонтальную прокрутку категорий на главном экране. Выберите категорию, и вы увидите все товары в этой категории. Вы также можете использовать фильтры для уточнения результатов в категории.', roles: ['CLIENT', 'ADMIN'] },
    
    // Ошибки и проблемы
    { id: 'err-1', question: 'Приложение не запускается', answer: 'Если приложение не запускается: 1) Перезагрузите устройство. 2) Удалите и переустановите приложение (ваши данные сохранятся, если вы авторизованы). 3) Проверьте наличие обновлений в App Store или Google Play. 4) Убедитесь, что на устройстве достаточно свободной памяти (минимум 100 МБ). 5) Проверьте подключение к интернету. Если проблема сохраняется, обратитесь в службу поддержки через "Центр помощи".', roles: null },
    { id: 'err-2', question: 'Не приходят уведомления', answer: 'Если уведомления не приходят: 1) Проверьте настройки уведомлений в приложении ("Профиль" → "Настройки" → "Уведомления"). 2) Проверьте настройки уведомлений на устройстве (для iOS: Настройки → Уведомления → Iceberg, для Android: Настройки → Приложения → Iceberg → Уведомления). 3) Убедитесь, что у приложения есть разрешение на отправку уведомлений. 4) Перезапустите приложение после изменения настроек. 5) Проверьте, что вы авторизованы в приложении.', roles: null },
    { id: 'err-3', question: 'Ошибка при оформлении заказа', answer: 'Если возникает ошибка при оформлении заказа: 1) Проверьте правильность заполнения всех обязательных полей (адрес доставки, способ оплаты). 2) Убедитесь, что в корзине есть товары. 3) Проверьте подключение к интернету. 4) Проверьте достаточность средств на карте (если оплата онлайн). 5) Убедитесь, что товары еще доступны (могут закончиться во время оформления). 6) Очистите кэш приложения и попробуйте снова. Если ошибка повторяется, обратитесь в службу поддержки.', roles: null },
    { id: 'err-4', question: 'Проблемы с загрузкой товаров', answer: 'Если товары не загружаются: 1) Проверьте подключение к интернету. 2) Проверьте скорость интернет-соединения (может быть слишком медленное). 3) Обновите приложение до последней версии. 4) Попробуйте обновить страницу (pull-to-refresh - потяните вниз для обновления). 5) Перезапустите приложение. 6) Очистите кэш приложения. Если проблема сохраняется, возможно, ведутся технические работы. Попробуйте позже или обратитесь в службу поддержки.', roles: null },
    { id: 'err-5', question: 'Ошибка при оплате', answer: 'Если возникает ошибка при оплате: 1) Проверьте правильность данных карты (номер, срок действия, CVV). 2) Убедитесь, что на карте достаточно средств. 3) Проверьте, не заблокирована ли карта банком. 4) Убедитесь, что карта поддерживает онлайн платежи. 5) Попробуйте другую карту. 6) Проверьте подключение к интернету. Если проблема сохраняется, выберите оплату наличными при получении или обратитесь в службу поддержки.', roles: null },
    { id: 'err-6', question: 'Товар не добавился в корзину', answer: 'Если товар не добавился в корзину: 1) Проверьте, что вы авторизованы (только авторизованные пользователи могут добавлять товары в корзину). 2) Убедитесь, что товар доступен (не закончился на складе). 3) Проверьте подключение к интернету. 4) Перезапустите приложение. 5) Попробуйте добавить товар снова. Если проблема сохраняется, обратитесь в службу поддержки.', roles: null },
    
    // Для администраторов
    { id: 'adm-1', question: 'Как управлять пользователями?', answer: 'Для управления пользователями перейдите в "Профиль" → "Панель Администратора" → "Управление пользователями". Здесь вы можете: просматривать список всех пользователей, изменять роли пользователей, блокировать/разблокировать пользователей, просматривать детальную информацию о пользователях. Вы также можете создавать новых пользователей и управлять их правами доступа.', roles: ['ADMIN'] },
    { id: 'adm-2', question: 'Как управлять складами?', answer: 'Для управления складами перейдите в "Профиль" → "Панель Администратора" → "Управление складами". Вы можете: создавать новые склады, редактировать информацию о складах (адрес, район, радиус доставки), управлять остатками товаров на складах, просматривать статистику продаж по складам, устанавливать цены для складов (warehousePrice).', roles: ['ADMIN'] },
    { id: 'adm-3', question: 'Как управлять заказами?', answer: 'Для управления заказами перейдите в "Профиль" → "Заказы". Вы можете: просматривать все заказы, изменять статусы заказов, назначать заказы сотрудникам, отменять заказы, просматривать детальную информацию о заказах, экспортировать данные о заказах. Вы также можете фильтровать заказы по статусу, дате, клиенту и другим параметрам.', roles: ['ADMIN'] },
    { id: 'adm-4', question: 'Как управлять вознаграждениями сотрудников?', answer: 'Для управления вознаграждениями перейдите в "Профиль" → "Панель Администратора" → "Вознаграждения сотрудников". Вы можете: просматривать все вознаграждения, одобрять или отклонять вознаграждения, отмечать вознаграждения как выплаченные, просматривать статистику по вознаграждениям, настраивать ставки вознаграждений (например, 10₽ за коробку).', roles: ['ADMIN'] },
    { id: 'adm-5', question: 'Как управлять возвратами товаров?', answer: 'Для управления возвратами перейдите в "Профиль" → "Панель Администратора" → "Возвраты товаров". Вы можете: просматривать запросы на возврат залежавшихся товаров, одобрять или отклонять запросы на возврат, отслеживать процесс возврата, просматривать историю возвратов. Система автоматически отслеживает товары без продаж более 21 дня и создает уведомления.', roles: ['ADMIN'] },
    { id: 'adm-6', question: 'Как просмотреть статистику и отчеты?', answer: 'Для просмотра статистики перейдите в "Профиль" → "Панель Администратора". Вы можете просмотреть: статистику продаж по складам, статистику по заказам, статистику по сотрудникам и вознаграждениям, статистику по товарам и поставщикам, оборачиваемость товаров. Статистика доступна в различных форматах и может быть экспортирована.', roles: ['ADMIN'] },
];

// Функция для фильтрации вопросов по роли пользователя
const filterQuestionsByRole = (questions, userRole) => {
    if (!userRole) {
        // Если пользователь не авторизован, показываем только вопросы для всех
        return questions.filter(q => q.roles === null);
    }

    return questions.filter(q => {
        // Если roles === null, вопрос доступен для всех
        if (q.roles === null) {
            return true;
        }
        // Проверяем, есть ли роль пользователя в списке разрешенных ролей
        return q.roles.includes(userRole);
    });
};

// Экспортируем функцию для получения отфильтрованных вопросов
export const getFilteredFAQ = (userRole) => {
    const filteredQuestions = filterQuestionsByRole(allQuestions, userRole);
    
    return [{
        id: 'all',
        title: 'Часто задаваемые вопросы',
        icon: 'help-outline',
        questions: filteredQuestions
    }];
};

// Для обратной совместимости экспортируем старый формат
export const faqData = [
    {
        id: 'all',
        title: 'Часто задаваемые вопросы',
        icon: 'help-outline',
        roles: null,
        questions: allQuestions
    }
];
