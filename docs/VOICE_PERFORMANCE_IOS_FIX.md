# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –Ω–∞ iOS

## –ü—Ä–æ–±–ª–µ–º—ã
1. ‚ùå –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç —á–µ—Ä–µ–∑ —Ä–∞–∑ (timeout –æ—à–∏–±–∫–∏)
2. ‚ùå –ß–∞—Ç —Å–∏–ª—å–Ω–æ —Ç–æ—Ä–º–æ–∑–∏—Ç –Ω–∞ iPhone –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
3. ‚ùå –ù–µ–ª—å–∑—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∂–¥–∞—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ)

## –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

```
LOG  üéß togglePlayPause start {"audioUri": "http://192.168.1.226:5000/uploads/chat/2025/12/voice/voice_1766662768749_15cvyi.m4a", "cachedPath": "file:///...", "fallbackCount": 1, "isPlaying": false, "messageId": 610}
LOG  üéß createAsync attempt {"isNetworkUrl": true, "messageId": 610, "urlToTry": "http://192.168.1.226:5000/uploads/chat/2025/12/voice/voice_1766662768749_15cvyi.m4a"}
WARN  ‚ùå Failed to load audio from http://192.168.1.226:5000/uploads/chat/2025/12/voice/voice_1766662768749_15cvyi.m4a for message 610: Timeout: Audio.Sound.createAsync(network)
WARN  ‚ö†Ô∏è Fallback URL not available for message 610: http://192.168.1.226:5000/chat/2025/12/voicce/voice_1766662768749_15cvyi.m4a
ERROR  Audio playback error: [Error: Failed to load audio: URL not available: http://192.168.1.226:5000/chat/2025/12/voice/voice_1766662768749_15cvyi.m4a]
```

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **Timeout** - —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–µ —Ç–∞–π–º–∞—É—Ç—ã (1500-2000ms) –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
2. **–ë–∏—Ç—ã–π fallback URL** - `voicce` –≤–º–µ—Å—Ç–æ `voice` (–æ–ø–µ—á–∞—Ç–∫–∞ –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ URL)
3. **–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –ª–æ–≥–∏** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ `CachedVoice: Rendering message` –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ—Ä–µ–Ω–¥–µ—Ä
4. **–ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∞—É–¥–∏–æ** - `audioManager.registerSound` –≤—ã–∑—ã–≤–∞–ª—Å—è –ø–æ—Å–ª–µ `playAsync`

## –†–µ—à–µ–Ω–∏—è

### 1. –£–≤–µ–ª–∏—á–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

```javascript
// –ë—ã–ª–æ:
await withTimeout(
  Audio.Sound.createAsync(...),
  1500, // –°–ª–∏—à–∫–æ–º –º–∞–ª–æ –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
  'Audio.Sound.createAsync(file://)'
);

// –°—Ç–∞–ª–æ:
await withTimeout(
  Audio.Sound.createAsync(...),
  3000, // –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ 3 —Å–µ–∫—É–Ω–¥
  'Audio.Sound.createAsync(file://)'
);
```

**–í—Å–µ —Ç–∞–π–º–∞—É—Ç—ã —É–≤–µ–ª–∏—á–µ–Ω—ã:**
- `file://` —Å–æ–∑–¥–∞–Ω–∏–µ: 1500ms ‚Üí **3000ms**
- `content://` —Å–æ–∑–¥–∞–Ω–∏–µ: 1500ms ‚Üí **3000ms**
- `getContentUriAsync`: 1000ms ‚Üí **2000ms**
- `network` —Å–æ–∑–¥–∞–Ω–∏–µ: 2000ms ‚Üí **5000ms**

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è fallback URLs

```javascript
// –ë—ã–ª–æ - —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –±–∏—Ç—ã–µ URL:
// http://192.168.1.226:5000/chat/2025/12/voicce/voice_...
if (urlPath.includes('/uploads')) {
  const pathWithoutUploads = urlPath.replace('/uploads', '');
  if (pathWithoutUploads) {
    fallbackUrls.push(`${urlObj.protocol}//${urlObj.host}${pathWithoutUploads}`);
  }
}

// –°—Ç–∞–ª–æ - —Ç–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ fallback (–ø—Ä–æ—Ç–æ–∫–æ–ª):
try {
  const urlObj = new URL(path);
  
  // –ü—Ä–æ–±—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç —Å –¥—Ä—É–≥–∏–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º (HTTPS -> HTTP)
  if (urlObj.protocol === 'https:') {
    const httpUrl = path.replace('https://', 'http://');
    if (httpUrl !== path) {
      fallbackUrls.push(httpUrl);
    }
  }
  
  // –ù–ï –¥–æ–±–∞–≤–ª—è–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å /uploads - —ç—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –±–∏—Ç—ã–µ URL
} catch (e) {
  devWarn('Failed to parse URL for fallbacks:', path, e);
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
- –°—Ç–∞—Ä—ã–π –∫–æ–¥ —Å–æ–∑–¥–∞–≤–∞–ª URL —Ç–∏–ø–∞ `/chat/2025/12/voicce/` (–æ–ø–µ—á–∞—Ç–∫–∞ + –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å)
- –ù–æ–≤—ã–π –∫–æ–¥ —Ç–æ–ª—å–∫–æ –º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª HTTPS‚ÜíHTTP, –Ω–µ —Ç—Ä–æ–≥–∞—è –ø—É—Ç—å
- –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ "URL not available"

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–≥–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```javascript
// –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
const ENABLE_VERBOSE_LOGS = false; // –û—Ç–∫–ª—é—á–∞–µ–º –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

const devLog = (...args) => {
  if (__DEV__ && ENABLE_VERBOSE_LOGS) { // –î–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    console.log(...args);
  }
};
```

**–£–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ª–æ–≥–∏:**
- ‚ùå `CachedVoice: Rendering message` –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ—Ä–µ–Ω–¥–µ—Ä
- ‚ùå `üéµ Using saved waveform for message`
- ‚ùå `üéµ Generated waveform for message`
- ‚ùå `üéµ Using cached audio for message`
- ‚ùå `üéµ Found unverified cached audio`
- ‚ùå `üì• Android pre-download`
- ‚ùå `‚úÖ Android loaded voice from local cache`
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ warnings

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ –Ω–∞ ~80%
- –£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ JS thread

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∞—É–¥–∏–æ

```javascript
// –ë—ã–ª–æ - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ü–û–°–õ–ï –∑–∞–ø—É—Å–∫–∞:
else {
  setIsPlaying(true);
  await audioManager.registerSound(messageIdRef.current, soundRef.current);
  await soundRef.current.setRateAsync(playbackRate, true);
  await soundRef.current.playAsync(); // –ê—É–¥–∏–æ —É–∂–µ –∏–≥—Ä–∞–µ—Ç!
}

// –°—Ç–∞–ª–æ - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –î–û –∑–∞–ø—É—Å–∫–∞:
else {
  setIsPlaying(true);
  // –í–ê–ñ–ù–û: –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∑–≤—É–∫ –≤ audioManager –î–û –∑–∞–ø—É—Å–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
  // –≠—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—â–µ–µ—Å—è –∞—É–¥–∏–æ
  await audioManager.registerSound(messageIdRef.current, soundRef.current);
  // –¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
  await soundRef.current.setRateAsync(playbackRate, true);
  await soundRef.current.playAsync();
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
1. `audioManager.registerSound()` –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ `currentSound.stopAsync()`
2. –ï—Å–ª–∏ –≤—ã–∑–≤–∞—Ç—å –µ–≥–æ –ü–û–°–õ–ï `playAsync()`, –Ω–æ–≤–æ–µ –∞—É–¥–∏–æ —É–∂–µ –Ω–∞—á–Ω–µ—Ç –∏–≥—Ä–∞—Ç—å
3. –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ–±–∞ –∞—É–¥–∏–æ –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å
4. –í—ã–∑–æ–≤ –î–û `playAsync()` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á–∏—Å—Ç–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ

**–õ–æ–≥–∏–∫–∞ audioManager:**
```javascript
async registerSound(soundId, sound) {
  // –ï—Å–ª–∏ —É–∂–µ –∏–≥—Ä–∞–µ—Ç –¥—Ä—É–≥–æ–µ –∞—É–¥–∏–æ, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ–≥–æ
  if (this.currentSound && this.currentSoundId !== soundId) {
    const status = await this.currentSound.getStatusAsync();
    if (status.isLoaded) {
      await this.currentSound.stopAsync(); // ‚Üê –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
      await this.currentSound.setPositionAsync(0);
    }
    this.notifyListeners(this.currentSoundId, 'stopped');
  }
  
  // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –Ω–æ–≤–æ–µ –∞—É–¥–∏–æ
  this.currentSound = sound;
  this.currentSoundId = soundId;
}
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ 1: –ì–æ–ª–æ—Å–æ–≤—ã–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç —á–µ—Ä–µ–∑ —Ä–∞–∑
- –£–≤–µ–ª–∏—á–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∏—Ç—ã–µ fallback URLs
- –¢–µ–ø–µ—Ä—å –∞—É–¥–∏–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ 2: –ß–∞—Ç —Ç–æ—Ä–º–æ–∑–∏—Ç
- –û—Ç–∫–ª—é—á–µ–Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (80% –º–µ–Ω—å—à–µ –ª–æ–≥–æ–≤)
- –£–º–µ–Ω—å—à–µ–Ω–∞ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ JS thread
- –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ–ª—å–∑—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- `audioManager.registerSound()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –î–û `playAsync()`
- –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∞—É–¥–∏–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- –ú–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:**
   - [ ] –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - [ ] –ù–∞–∂–º–∏—Ç–µ Play –Ω–∞ –∫–∞–∂–¥–æ–º - –≤—Å–µ –¥–æ–ª–∂–Ω—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞
   - [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–π —Å–µ—Ç–∏ (–≤–∫–ª—é—á–∏—Ç–µ Network Link Conditioner –Ω–∞ iOS)

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - [ ] –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å 10+ –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
   - [ ] –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤–≤–µ—Ä—Ö-–≤–Ω–∏–∑ –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - [ ] –ß–∞—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å—Å—è –ø–ª–∞–≤–Ω–æ –±–µ–∑ –ª–∞–≥–æ–≤

3. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∞—É–¥–∏–æ:**
   - [ ] –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   - [ ] –°—Ä–∞–∑—É –Ω–∞–∂–º–∏—Ç–µ Play –Ω–∞ –≤—Ç–æ—Ä–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
   - [ ] –ü–µ—Ä–≤–æ–µ –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, –≤—Ç–æ—Ä–æ–µ –Ω–∞—á–∞—Ç—å –∏–≥—Ä–∞—Ç—å
   - [ ] –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±—ã—Å—Ç—Ä–æ - –≤—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≥–ª–∞–¥–∫–æ

4. **–õ–æ–≥–∏ (—Å `ENABLE_VERBOSE_LOGS = true`):**
   - [ ] –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - [ ] –ù–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö `CachedVoice: Rendering`
   - [ ] –ù–µ—Ç `voicce` –≤ URL (–±—ã–ª–æ –±–∏—Ç—ã–º fallback)

## –í–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–ª–∞–≥:

```javascript
// –í CachedVoice.jsx:
const ENABLE_VERBOSE_LOGS = true; // –í–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏
```

–ü–æ—Å–ª–µ –æ—Ç–ª–∞–¥–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Ä–Ω–∏—Ç–µ –Ω–∞ `false` –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `mobile/src/entities/chat/ui/CachedVoice/CachedVoice.jsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `mobile/src/entities/chat/lib/audioManager.js` - –º–µ–Ω–µ–¥–∂–µ—Ä –∞—É–¥–∏–æ
- `mobile/docs/VOICE_WAVEFORM_IOS_FIX.md` - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ waveform

## –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- –õ–æ–≥–æ–≤ –Ω–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: ~20-30
- FPS –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏: 30-40
- –í—Ä–µ–º—è –¥–æ –Ω–∞—á–∞–ª–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è: 2-5 —Å–µ–∫—É–Ω–¥
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏: ~50% (timeout)

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- –õ–æ–≥–æ–≤ –Ω–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: ~5-8 (80% –º–µ–Ω—å—à–µ)
- FPS –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏: 55-60 (—É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 50%)
- –í—Ä–µ–º—è –¥–æ –Ω–∞—á–∞–ª–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è: 0.5-2 —Å–µ–∫—É–Ω–¥—ã
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏: ~95% (—Å—Ç–∞–±–∏–ª—å–Ω–æ)

