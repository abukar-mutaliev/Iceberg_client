# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ProductDetailScreen –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –ü—Ä–æ–±–ª–µ–º—ã –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### 1. –ö–Ω–æ–ø–∫–∞ —Ä–µ–ø–æ—Å—Ç–∞ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö–Ω–æ–ø–∫–∞ —Ä–µ–ø–æ—Å—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–∫–ª—é—á–∞—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É, –Ω–æ –Ω–µ –º–æ–≥–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ

### 2. –û—à–∏–±–∫–∏ 401 –≤ —á–∞—Ç–µ
- **–ü—Ä–æ–±–ª–µ–º–∞**: `Error in GET /api/chat/rooms?page=1&limit=20: Request failed with status code 401`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç RepostProductContent –ø—ã—Ç–∞–ª—Å—è –∑–∞–≥—Ä—É–∂–∞—Ç—å —á–∞—Ç—ã –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 3. –°–ª–æ–∂–Ω–æ—Å—Ç—å –∏ —Ä–∞–∑–º–µ—Ä ProductDetailScreen
- **–ü—Ä–æ–±–ª–µ–º–∞**: –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∞–ª 964 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**: –¢—Ä—É–¥–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –Ω–∏–∑–∫–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å, —Å–ª–æ–∂–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –†–µ—à–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —Ä–µ–ø–æ—Å—Ç–∞ ‚úÖ

#### –í ProductContent.jsx:
```javascript
// –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç
import { useAuth } from '@entities/auth/hooks/useAuth';

// –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
const { isAuthenticated } = useAuth();

// –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —Ä–µ–ø–æ—Å—Ç–∞
{isAuthenticated && (
    <TouchableOpacity
        style={styles.repostButton}
        onPress={() => setIsRepostModalVisible(true)}
        activeOpacity={0.7}
    >
        <RepostIcon width={24} height={24} color="#FFFFFF"/>
    </TouchableOpacity>
)}

// –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
{isAuthenticated && (
    <ReusableModal
        visible={isRepostModalVisible}
        onClose={() => setIsRepostModalVisible(false)}
        title="–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä"
        height={85}
        fullScreenOnKeyboard={true}
    >
        <RepostProductContent 
            product={safeProduct}
            currentUser={currentUser}
            onClose={() => setIsRepostModalVisible(false)}
        />
    </ReusableModal>
)}
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 401 –æ—à–∏–±–æ–∫ —á–∞—Ç–∞ ‚úÖ

#### –í RepostProductContent.jsx:
```javascript
// –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç
import { useAuth } from '@entities/auth/hooks/useAuth';

// –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
const { isAuthenticated } = useAuth();

// –£—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–∞—Ç–æ–≤
useEffect(() => {
    if (isAuthenticated) {
        dispatch(fetchRooms({ page: 1 }));
    }
}, [dispatch, isAuthenticated]);
```

### 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ProductDetailScreen ‚úÖ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–∑–±–∏—Ç –Ω–∞ **3 –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ö—É–∫–∞** –¥–ª—è –ª—É—á—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞:

#### useProductDetailState.js
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –°–æ—Å—Ç–æ—è–Ω–∏—è: `contentHeight`, `selectedQuantity`, `activeTab`, `optimisticProduct`
- Refs: `isMountedRef`, `scrollViewRef`, `scrollY`, `fadeAnim`
- –§—É–Ω–∫—Ü–∏–∏: `createSafeTimeout`, `scrollToTop`, `animateUpdate`
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: `handleScroll`, `handleQuantityChange`, `handleTabChange`

#### useProductDetailData.js
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ API –≤—ã–∑–æ–≤–∞–º–∏
- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `product`, `supplier`, `isLoading`, `error`
- –î–∞–Ω–Ω—ã–µ –∫–æ—Ä–∑–∏–Ω—ã: `isInCart`, `cartQuantity`, —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω—ã
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `categories`, `similarProducts`, `feedbacks`
- –û–±–æ–≥–∞—â–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞: –∫–æ—Ä–æ–±–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

#### useProductDetailNavigation.js
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- `handleGoBack`: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞–∑–∞–¥
- `handleSupplierPress`: –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É  
- `handleSimilarProductPress`: –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ—Ö–æ–∂–µ–º—É –ø—Ä–æ–¥—É–∫—Ç—É
- –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏–∑ —á–∞—Ç–∞

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### üìà –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
1. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**: –í—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–µ—Ä–Ω—É—Ç—ã –≤ `useMemo`
2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏**: –ö–∞–∂–¥—ã–π —Ö—É–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å
3. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `useCallback`

### üß© –£–ª—É—á—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–±–∏—Ç–∞ –ø–æ –¥–æ–º–µ–Ω–∞–º
2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –•—É–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π —Ö—É–∫ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

### üìö –£–ª—É—á—à–µ–Ω–∏—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
1. **–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–∞–ª –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ
2. **–õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ–∫—Ü–∏–∏
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ JSDoc –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ö—É–∫–∞

### üîí –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: –ö–Ω–æ–ø–∫–∞ —Ä–µ–ø–æ—Å—Ç–∞ —Å–∫—Ä—ã—Ç–∞ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
2. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ 401 –æ—à–∏–±–æ–∫**: API —á–∞—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```
mobile/src/screens/product/ProductDetailScreen/
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îî‚îÄ‚îÄ ProductDetailScreen.jsx (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - 543 —Å—Ç—Ä–æ–∫–∏)
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useProductDetailState.js (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º - 144 —Å—Ç—Ä–æ–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ useProductDetailData.js (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ - 174 —Å—Ç—Ä–æ–∫–∏)
‚îÇ   ‚îî‚îÄ‚îÄ useProductDetailNavigation.js (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π - 95 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ index.js
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ | –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ |
|---------|----------------|-------------------|
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ–∞–π–ª–µ | 964 | 543 |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ | 1 | 4 |
| –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ | ‚ùå | ‚úÖ |
| –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | –ß–∞—Å—Ç–∏—á–Ω–∞—è | –ü–æ–ª–Ω–∞—è |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | ‚ùå | ‚úÖ |
| –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ 401 –æ—à–∏–±–æ–∫ | ‚ùå | ‚úÖ |
| –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è |
| –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å | –°–ª–æ–∂–Ω–∞—è | –ü—Ä–æ—Å—Ç–∞—è |

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ **–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**:
- API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –æ—Å—Ç–∞–ª—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º
- –í—Å–µ –ø—Ä–æ–ø—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥—É–∫—Ç–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ß—Ç–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –æ—Ç–∑—ã–≤–æ–≤
- –†–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π (–ª–æ–∫–∞–ª—å–Ω–æ)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤

### üîí –ß—Ç–æ —Å–∫—Ä—ã—Ç–æ/–∑–∞—â–∏—â–µ–Ω–æ:
- –ö–Ω–æ–ø–∫–∞ —Ä–µ–ø–æ—Å—Ç–∞ —Ç–æ–≤–∞—Ä–∞
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–ø–æ—Å—Ç–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤
- API –≤—ã–∑–æ–≤—ã —á–∞—Ç–∞

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏–ª –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω–∏–≤ –ø–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

