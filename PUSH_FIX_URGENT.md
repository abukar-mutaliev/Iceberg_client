# üö® –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï PUSH-–£–í–ï–î–û–ú–õ–ï–ù–ò–ô

## –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞!

–ò–∑ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ª–æ–≥–æ–≤ Android:
```
STATUS: 400 - Body: {"errors":[{"code":"invalid-argument","title":"external_id is blocked, please use a different ID"}]}
```

**OneSignal –ë–õ–û–ö–ò–†–£–ï–¢ –≤–∞—à User ID (13)**

–≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –∫–æ–≥–¥–∞:
1. User ID –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ –¥—Ä—É–≥–æ–º OneSignal –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. User ID –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º OneSignal
3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ OneSignal App ID

## –¢–∞–∫–∂–µ –Ω–∞–π–¥–µ–Ω–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ App ID:

**–í –∫–æ–¥–µ:** `a1bde379-4211-4fb9-89e2-3e94530a7041`
**–í –ª–æ–≥–∞—Ö:** `4ad5c8d5-4818-4e13-beac-fb1ec63285ad`

–í–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π/–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π App ID!

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ü–û–ü–†–û–ë–£–ô–¢–ï –°–ù–ê–ß–ê–õ–ê)

1. **–£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é** —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
2. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à:**
   ```bash
   adb shell pm clear com.abuingush.iceberg
   ```
3. **–ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
4. **–í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ**

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ OneSignal –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π App ID –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Player ID.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ OneSignal Dashboard

1. –ó–∞–π–¥–∏—Ç–µ: https://app.onesignal.com/
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **Iceberg**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **App ID** –≤ Settings ‚Üí Keys & IDs
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: `a1bde379-4211-4fb9-89e2-3e94530a7041`

–ï—Å–ª–∏ App ID –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è - –æ–±–Ω–æ–≤–∏—Ç–µ –≤ `app.config.js`:
```javascript
oneSignalAppId: '–ü–†–ê–í–ò–õ–¨–ù–´–ô_APP_ID_–ò–ó_DASHBOARD'
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ User ID –≤ OneSignal

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ OneSignal Dashboard
1. https://app.onesignal.com/
2. Audience ‚Üí Subscriptions
3. –ù–∞–π–¥–∏—Ç–µ User ID: `13`
4. –ï—Å–ª–∏ –µ—Å—Ç—å - —É–¥–∞–ª–∏—Ç–µ —ç—Ç—É –ø–æ–¥–ø–∏—Å–∫—É

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
–í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–Ω–µ ID: 13) –¥–ª—è —Ç–µ—Å—Ç–∞.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å App ID)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OneSignal App ID:

### 1. app.config.js
```javascript
extra: {
    oneSignalAppId: 'a1bde379-4211-4fb9-89e2-3e94530a7041',
}
```

### 2. .env —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
```
EXPO_PUBLIC_ONESIGNAL_APP_ID=a1bde379-4211-4fb9-89e2-3e94530a7041
```

### 3. OneSignalService.js —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
```javascript
const appId =
    process.env.EXPO_PUBLIC_ONESIGNAL_APP_ID ||
    (Constants?.expoConfig?.extra?.oneSignalAppId ?? null);
```

---

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# 1. –û—á–∏—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
adb shell pm clear com.abuingush.iceberg

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –≤–æ–π–¥–∏—Ç–µ

# 3. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
adb logcat -v time | Select-String -Pattern "OneSignal"

# 4. –ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
# ‚úÖ "Got Response = POST - STATUS: 200" (—É—Å–ø–µ—Ö)
# ‚ùå "STATUS: 400" (–æ—à–∏–±–∫–∞)
```

---

## üìã –ö–æ–º–∞–Ω–¥—ã ADB –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```powershell
adb shell pm clear com.abuingush.iceberg
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```powershell
adb logcat -v time | Select-String -Pattern "OneSignal|PushService"
```

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
```powershell
adb logcat -d -v time | Select-String -Pattern "OneSignal" | Select-Object -Last 50
```

### –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ OneSignal
```powershell
adb logcat -v time *:E | Select-String -Pattern "OneSignal"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```powershell
adb shell am force-stop com.abuingush.iceberg
adb shell am start -n com.abuingush.iceberg/.MainActivity
```

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π

1. **–°–ù–ê–ß–ê–õ–ê:** –£–¥–∞–ª–∏—Ç–µ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ **–¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º** (–Ω–µ ID: 13) –¥–ª—è —Ç–µ—Å—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ App ID –≤ OneSignal Dashboard
4. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
5. –ï—Å–ª–∏ STATUS: 200 - –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! üéâ

---

## üì± –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
```
I/OneSignal: Got Response = POST - STATUS: 200
I/OneSignal: Player ID: 3d4ff19a-46c7-4df1-b824-2b51f9956a64
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
```
W/OneSignal: Got Response = POST - STATUS: 400
E/OneSignal: external_id is blocked
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ STATUS: 400 - –Ω—É–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ support OneSignal –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π App ID.






